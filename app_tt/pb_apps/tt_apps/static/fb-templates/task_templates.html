<div id="tt1"></div>
<div id="tt2"></div>
<div id="tt3"></div>
<div id="tt4"></div>

<script type="text/javascript" charset="utf-8">

	var currentTaskType = "tt1";
	var taskType2html = {"tt1": "template-select.html", "tt2": "template-meta.html", "tt3": "template-struct.html", "tt4": "template-transcribe.html"};
	
	function loadTaskTemplate(bookId, taskType) {
		clearCurrentTemplate();
		$("#" + taskType).load('https://' + server_name + '/mb/api/render_template/' + bookId + '_' + taskType + '/' + taskType2html[taskType], function() {
			currentTaskType = taskType;
			redirectToANewTask = function(taskSufix) {
				loadTaskTemplate(bookId, taskSufix);
			}
		});
	}
	
	function clearCurrentTemplate() {
		clearMBInterface();
		$('#'+ currentTaskType).empty();
	}
	
	loadTaskTemplate(bookId, currentTaskType);
</script>
